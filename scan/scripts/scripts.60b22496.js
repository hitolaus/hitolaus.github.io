"use strict";angular.module("scanApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/ocr",{templateUrl:"views/ocr.html",controller:"OcrCtrl",controllerAs:"ocr"}).when("/card",{templateUrl:"views/card.html"}).when("/barcode",{templateUrl:"views/barcode.html",controller:"BarcodeCtrl",controllerAs:"barcode"}).otherwise({redirectTo:"/"})}]),angular.module("scanApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("scanApp").controller("OcrCtrl",function(){}),angular.module("scanApp").controller("BarcodeCtrl",["$scope",function(a){Quagga.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#yourElement")},decoder:{readers:["ean_8_reader"]},numOfWorkers:4,locator:{patchSize:"medium",halfSample:!0,debug:{drawBoundingBox:!0,showFrequency:!0,drawScanline:!0,showPattern:!0}}},function(a){return a?void console.log(a):(console.log("Initialization finished. Ready to start"),void Quagga.start())}),Quagga.onDetected(function(b){a.$apply(function(){a.data=b.codeResult.code}),Quagga.stop()}),Quagga.onProcessed(function(a){var b=Quagga.canvas.ctx.overlay,c=Quagga.canvas.dom.overlay;a&&(a.boxes&&(b.clearRect(0,0,parseInt(c.getAttribute("width")),parseInt(c.getAttribute("height"))),a.boxes.filter(function(b){return b!==a.box}).forEach(function(a){Quagga.ImageDebug.drawPath(a,{x:0,y:1},b,{color:"green",lineWidth:2})})),a.box&&Quagga.ImageDebug.drawPath(a.box,{x:0,y:1},b,{color:"#00F",lineWidth:2}),a.codeResult&&a.codeResult.code&&Quagga.ImageDebug.drawPath(a.line,{x:"x",y:"y"},b,{color:"red",lineWidth:3}))})}]),angular.module("scanApp").run(["$templateCache",function(a){a.put("views/barcode.html",'<p>This is the barcode view.</p> <p>Code: {{data}}</p> <div id="yourElement"></div>'),a.put("views/card.html",'<p>This is the card view.</p> <input name="cardNumber" smopname="num" id="cardNumber-CC" class="cardNumber" type="text" value="************0891" pattern="[0-9]*">'),a.put("views/main.html",'<div> <a href="#/barcode" class="btn">BARCODE</a> <a href="#/ocr" class="btn">OCR</a> <a href="#/card" class="btn">CARD</a> </div>'),a.put("views/ocr.html","<p>This is the ocr view.</p>")}]);